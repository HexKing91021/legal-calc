<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>GTA 5 Legal Calculator</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
      <style>
         body { padding-top: 20px; padding-bottom: 20px; }
         .charge-item { margin-bottom: 10px; position: relative; }
         .description { max-width: 300px; overflow-wrap: break-word; }
         .discount-btn { margin-right: 5px; margin-bottom: 5px; }
         .description-short { 
         white-space: nowrap; 
         overflow: hidden; 
         text-overflow: ellipsis; 
         max-width: 200px; 
         display: inline-block;
         }
         .description-toggle { 
         cursor: pointer; 
         color: blue;
         position: relative;
         }
         .description-toggle span {
         }
         .description-toggle .tooltip-text {
         visibility: hidden;
         width: 300px;
         background-color: #555;
         color: #fff;
         text-align: center;
         border-radius: 6px;
         padding: 5px;
         position: absolute;
         z-index: 1;
         bottom: 125%;
         left: 50%;
         margin-left: -150px;
         opacity: 0;
         transition: opacity 0.3s;
         }
         .description-toggle:hover .tooltip-text {
         visibility: visible;
         opacity: 1;
         }
         .charge-input {
         border: 2px solid #007bff;
         border-radius: 5px;
         padding: 5px 10px;
         font-size: 16px;
         width: 100%;
         position: relative;
         }
         .charge-input:focus {
         outline: none;
         box-shadow: 0 0 5px rgba(0,123,255,0.5);
         }
         .custom-dropdown {
         background-color: white;
         border: 1px solid #ced4da;
         border-radius: 0.25rem;
         position: absolute;
         top: 100%;
         left: 0;
         width: 100%;
         z-index: 1000;
         display: none;
         max-height: 200px;
         overflow-y: auto;
         }
         .custom-dropdown-item {
         padding: 0.5rem 1rem;
         cursor: pointer;
         white-space: nowrap;
         }
         .custom-dropdown-item:hover {
         background-color: #007bff;
         color: white;
         }
         .additional-action {
         background-color: #fff3cd;
         }
         #additionalActionsWarning {
         background-color: #fff3cd;
         border: 1px solid #ffeeba;
         border-radius: 5px;
         padding: 10px;
         margin-bottom: 20px;
         }
         .warning-icon {
         color: #ffc107;
         cursor: pointer;
         position: relative;
         }
         .warning-icon .tooltip-text {
         visibility: hidden;
         width: 200px;
         background-color: #555;
         color: #fff;
         text-align: center;
         border-radius: 6px;
         padding: 5px;
         position: absolute;
         z-index: 1;
         bottom: 125%;
         left: 50%;
         margin-left: -100px;
         opacity: 0;
         transition: opacity 0.3s;
         }
         .warning-icon:hover .tooltip-text {
         visibility: visible;
         opacity: 1;
         }
         .custom-dropdown {
         max-height: 300px; /* Adjust as needed */
         overflow-y: auto;
         }
         .custom-dropdown-item {
         padding: 5px;
         border-bottom: 1px solid #eee;
         }
         .custom-dropdown-item strong {
         font-size: 14px;
         }
         .charge-description {
         font-size: 12px;
         color: #666;
         display: block;
         white-space: nowrap;
         overflow: hidden;
         text-overflow: ellipsis;
         }
      </style>
   </head>
   <body>
      <div class="container">
         <h1 class="mb-4">GTA 5 Legal Calculator</h1>
         <div class="row mb-3">
            <div class="col-md-6">
               <label for="badgeNumber" class="form-label">Officer's Badge Number</label>
               <input type="text" id="badgeNumber" class="form-control">
            </div>
            <div class="col-md-6">
               <label for="clientName" class="form-label">Client's Name</label>
               <input type="text" id="clientName" class="form-control">
            </div>
         </div>
         <div class="row mb-3">
            <div class="col-md-6">
               <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="whisperingCheck">
                  <label class="form-check-label" for="whisperingCheck">Ensure client is whispering</label>
               </div>
            </div>
            <div class="col-md-6">
               <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="privilegeCheck">
                  <label class="form-check-label" for="privilegeCheck">Client advised of attorney client privilege</label>
               </div>
            </div>
         </div>
         <div class="row mb-3">
            <div class="col">
               <select id="preset" class="form-select">
                  <option value="">Select a preset...</option>
                  <option value="bank_robbery">Bank Robbery</option>
               </select>
            </div>
         </div>
         <table class="table table-striped">
            <thead>
               <tr>
                  <th style="width: 25%;">Charge</th>
                  <th style="width: 10%;">Jail Time</th>
                  <th style="width: 10%;">Fine</th>
                  <th style="width: 25%;">Description</th>
                  <th style="width: 10%;">Quantity</th>
                  <th style="width: 10%;">Individual Charge Discount (%)</th>
                  <th style="width: 10%;">Actions</th>
               </tr>
            </thead>
            <tbody id="charges"></tbody>
         </table>
         <div class="row mb-3">
            <div class="col">
               <button id="addCharge" class="btn btn-primary">Add Charge</button>
            </div>
         </div>
         <div class="row mb-3">
            <div class="col">
               <label class="form-label">Global Discount (%)</label>
               <div id="discountButtons"></div>
            </div>
         </div>
         <div class="row">
            <div class="col">
               <h3>Summary:</h3>
               <div id="additionalActionsWarning" class="mb-3">
                  <strong>Additional Actions:</strong> The following charges will result in additional actions:
                  <ul id="additionalActionsList"></ul>
               </div>
               <table class="table table-bordered">
                  <thead>
                     <tr>
                        <th>Category</th>
                        <th>Pre-Discount</th>
                        <th>Post-Discount</th>
                        <th>Saved</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <th>Jail Time</th>
                        <td><span id="preTotalJailTime">0</span> days</td>
                        <td><span id="postTotalJailTime">0</span> days</td>
                        <td><span id="savedJailTime">0</span> days</td>
                     </tr>
                     <tr>
                        <th>Fine</th>
                        <td>$<span id="preTotalFine">0</span></td>
                        <td>$<span id="postTotalFine">0</span></td>
                        <td>$<span id="savedFine">0</span></td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
      <script>
         const charges = [
               // Miscellaneous Felony
         { name: "Accessory to Felony", jailTime: 600, fine: 3500, description: "Anyone who attempts to help or aid someone in the preparation, act or escape of a felony offence.", stackable: true },
         { name: "Aircraft Hijacking", jailTime: 1200, fine: 20000, description: "Unlawfully gaining control over an aircraft, forcing the manoeuvres of the pilot or operating the aircraft themselves.", stackable: false },
         { name: "Burglary", jailTime: 800, fine: 6000, description: "Unlawfully entering into a dwelling or private premises with the clear intent to commit a criminal act while on said property.", stackable: true },
         { name: "Escaping Lawful Custody", jailTime: 1000, fine: 10000, description: "Fleeing from the lawful custody of a law enforcement officer.", stackable: false },
         { name: "Felony Evading Arrest", jailTime: 800, fine: 4000, description: "The act of intentionally fleeing from a law enforcement officer attempting to make a lawful arrest or detainment by means of giving verbal or visual directions, the announcement of their presence, or the operation of their emergency vehicle (such as lights, sirens, or a combination of both.)", stackable: false, licenseRevocation: "Impound Vehicle" },
         { name: "Human Trafficking", jailTime: 1000, fine: 10000, description: "The transportation, transfer, harbouring or receipt of a person(s) against their will in exchange for goods or money.", stackable: true },
         { name: "Illegal Gambling", jailTime: 1500, fine: 20000, description: "Hosting or organising games/activities that involve a gambling or betting element with no valid Gambling Permit for said game/activity.", stackable: true },
         { name: "Impersonation of a Lawyer or Government Official", jailTime: 600, fine: 4000, description: "The self portrayal of a lawyer or government official in an attempt to fool another or gain access to restricted areas. Or, the operation of a governmental-issued vehicle with the usage of emergency equipment.", stackable: true },
         { name: "Jailbreak", jailTime: 1500, fine: 15000, description: "The act of attempting to or successfully freeing someone else from custody/prison.", stackable: true },
         { name: "Perjury", jailTime: 1000, fine: 10000, description: "The act of willfully and deliberately providing false information while under oath.", stackable: false },
         { name: "Theft of Emergency vehicle", jailTime: 600, fine: 3000, description: "The theft of an emergency vehicle. This includes Fire service, EMS, Law enforcement & Lifeguard.", stackable: true },
         { name: "Trespassing on Airport Property", jailTime: 800, fine: 5000, description: "Unauthorized entering or remaining upon restricted government/private property that is utilized as an airport, airfield, runway, landing strip or helipad. This includes Los Santos International Airport, Sandy Shores Airfield, Grapeseed McKenzie Airfield and Cayo Perico Airstrip.", stackable: true },
         { name: "Trespassing with the Intent of Theft", jailTime: 500, fine: 2500, description: "Entering or remaining upon restricted government/private property in which you can reasonably prove the intent of theft. This can include tools to aid in breaking entry. This is not stackable with Commercial Break In.", stackable: false },
         { name: "Witness Intimidation", jailTime: 1500, fine: 10000, description: "The threatening of crucial court witnesses by pressure or extortion to compel them to not to testify.", stackable: true },
         
         
         // Violent Crimes
         { name: "An act of Terrorism", jailTime: 1500, fine: 25000, description: "The act of creating mass destruction via explosive destruction or mass shootings in highly populated areas to assert political or ideological control or fear into the public. - Requires Judge Authorization", stackable: false, licenseRevocation: "Requires Judge Authorization" },
         { name: "Armed Robbery", jailTime: 800, fine: 6000, description: "The act of depriving someone of or actively taking their property through the threat of violence in the presence of a weapon.", stackable: true },
         { name: "Arson", jailTime: 600, fine: 5000, description: "The criminal act of intentionally setting fire to property.", stackable: true },
         { name: "Assault", jailTime: 300, fine: 2000, description: "A threat of bodily harm coupled with an apparent, present ability to cause the harm.", stackable: true },
         { name: "Assault with a Firearm", jailTime: 900, fine: 7000, description: "The use of a firearm for the purpose of making violent threats against another person.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Attempted Mass Murder", jailTime: 2000, fine: 20000, description: "Taking substantial steps to end the life of three or more people, or taking action towards a group of three or more people deliberately or recklessly with extreme disregard for human life. Only stackable via multiple warrants.", stackable: false, licenseRevocation: "Revoke Weapons License" },
         { name: "Bank Robbery", jailTime: 1200, fine: 10000, description: "The act of or direct involvement in stealing property from a bank, including removing property from the vault.", stackable: false },
         { name: "Battery", jailTime: 600, fine: 3000, description: "An intentional unpermitted act causing harmful or offensive contact with another (includes hitting a person or spitting on them).", stackable: true },
         { name: "Commercial Break In", jailTime: 1000, fine: 6000, description: "The act of or direct involvement in the planning of or acting upon breaking into either a commercial property or secured industrial container. (This does not extend to store robberies are they are covered in their own charge.)", stackable: true },
         { name: "Depository Robbery", jailTime: 3000, fine: 40000, description: "The act of or direct involvement in stealing money or property from a state or federal depository.", stackable: false },
         { name: "High Felony Store Robbery", jailTime: 1600, fine: 16000, description: "The act of or direct involvement in the theft of money or property from a high end store, i.e. a jewelry store, through the use of violence or force.", stackable: true },
         { name: "Kidnapping", jailTime: 900, fine: 5000, description: "The act of or direct involvement in the unlawful taking and movement of a person by force, fraud, or by means of a credible threat against their will, or the unlawful seizure and detainment of a person against their will by means of force or use of a credible threat.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Mass Jailbreak", jailTime: 3500, fine: 40000, description: "The act of attempting to or successfully freeing three or more people from custody/prison.", stackable: false, licenseRevocation: "Revoke Weapons License" },
         { name: "Murder", jailTime: 1200, fine: 10000, description: "Murder is the unlawful killing of a human being (not revived by EMS) with malice aforethought.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Preparing an act of Terrorism", jailTime: 1000, fine: 20000, description: "A plot to commit an act of mass destruction or casualty for political gain. - Requires Judge Authorization", stackable: false, licenseRevocation: "Requires Judge Authorization" },
         { name: "Store Robbery", jailTime: 700, fine: 6000, description: "The act of or direct involvement in the theft of money or property from a store through the use of violence or force.", stackable: true },
         { name: "Vehicular Manslaughter", jailTime: 700, fine: 4000, description: "Causing the unintentional death of a person or other driver through reckless, dangerous or negligent driving.", stackable: true, licenseRevocation: "Revoke Driving License" },
         
         
         // General
         { name: "Animal Cruelty", jailTime: 400, fine: 3000, description: "The deliberate act of abusing, neglecting or otherwise harming a non-human creature.", stackable: true },
         { name: "Assisting An Offender", jailTime: 500, fine: 3000, description: "Anyone who attempts to help or aid someone in the preparation, act or escape of a crime.", stackable: true },
         { name: "Brandishing a Weapon", jailTime: 400, fine: 1000, description: "The act whereby an individual holds, points, waves or carries out other means of gesture with a item or firearm capable of causing harm.", stackable: true },
         { name: "Breach of the Peace", jailTime: 200, fine: 1000, description: "A public disturbance, or an act considered likely to cause one.", stackable: true },
         { name: "Contempt of Court", jailTime: 0, fine: 0, description: "Failure to obey a lawful order of a court, showing disrespect for the judge, disruption of the proceedings through poor behavior, or publication of material or non-disclosure of material, which in doing so is deemed likely to jeopardize a fair trial.", stackable: false, licenseRevocation: "Unlimited fine TBD by Judge | Time TBD by Judge" },
         { name: "Criminal Damage", jailTime: 300, fine: 2000, description: "The act of intentionally causing temporary or permanent damage to someone else's property.", stackable: true },
         { name: "Disobeying a Lawful Order", jailTime: 250, fine: 1000, description: "The willful violation of a lawful order from a law enforcement officer.", stackable: true },
         { name: "Failure to Identify", jailTime: 0, fine: 300, description: "Failing to identify one's self whilst being detained on reasonable suspicion. Suspect shall be given a fine and will be detained pending confirmation of identity.", stackable: false },
         { name: "False Report", jailTime: 0, fine: 1000, description: "Intentionally making a false statement/911 dispatch message.", stackable: true },
         { name: "Harassment", jailTime: 500, fine: 2000, description: "To knowingly pursue a pattern of conduct intended to annoy, seriously alarm, or terrorize another person, with no lawful purpose, which causes that person to suffer substantial emotional distress.", stackable: true },
         { name: "Indecent Exposure", jailTime: 200, fine: 1000, description: "Intentionally exposing the private or intimate parts of one's body in a public place. Includes sexual behaviour or conduct.", stackable: true },
         { name: "Jaywalking", jailTime: 0, fine: 120, description: "Failure to use a crosswalk when crossing the street within the city (when one is within a city blocks distance).", stackable: true },
         { name: "Obstruction of Justice", jailTime: 600, fine: 4000, description: "The intentional obstruction or hindering of a lawful investigation by a third party.", stackable: true },
         { name: "Obstruction of a Government Official", jailTime: 400, fine: 4000, description: "Knowingly impeding an on duty government official (Police Officer, EMS, Lawyer) in the course of their duty.", stackable: true },
         { name: "Open Carry Violation", jailTime: 0, fine: 300, description: "Long guns are prohibited from being openly carried on your person including being slung within city limits this does not include small arms that are stored inside a holster.", stackable: true, licenseRevocation: "Weapon seizure" },
         { name: "Poaching", jailTime: 200, fine: 1800, description: "The illegal hunting, pursuing, trapping, harassing, catching, killing, taking, transporting, or possession any portion of any wildlife, except fish, without having first procured a license from the Department of Wildlife Conservation and/or Off the Bone. Alternatively, the hunting, pursuing, trapping, harassing, catching, killing, taking, transporting, or possessing any portion of any endangered or protected wildlife listed as follows: (1) Whales, (2) Dolphins, (3) Sharks, (4) Orcas, or (5) Stingrays.", stackable: true, licenseRevocation: "Revoke Hunting and Fishing License" },
         { name: "Possession of Stolen Goods", jailTime: 250, fine: 1000, description: "Acquiring stolen goods which any reasonable person would have realize have been stolen, extorted, embezzled or unlawfully obtained.", stackable: true },
         { name: "Prostitution", jailTime: 0, fine: 500, description: "The act of offering one's self or another for hire to engage in sexual relations in exchange for money or goods.", stackable: true },
         { name: "Public Intoxication", jailTime: 0, fine: 200, description: "Being visibly drunk or under the influence of drugs in public.", stackable: true, licenseRevocation: "Dispersal Order" },
         { name: "Public Urination", jailTime: 0, fine: 100, description: "Urinating in a public place like a park, alley, or sidewalk. It is considered a public nuisance.", stackable: true, licenseRevocation: "Dispersal Order" },
         { name: "Resisting Arrest", jailTime: 400, fine: 1500, description: "The act of intentionally obstructing detainment into lawful custody.", stackable: true },
         { name: "Stalking", jailTime: 500, fine: 2000, description: "The repeated following and harassing of another person with the intent to instill fear or injury.", stackable: true },
         { name: "Theft", jailTime: 800, fine: 2500, description: "The act of depriving someone of money and/or items without prior consent from that individual.", stackable: true },
         { name: "Threat To Life", jailTime: 500, fine: 3000, description: "To make a genuine and credible threat to kill another person.", stackable: true },
         { name: "Trespassing", jailTime: 200, fine: 2000, description: "Entering or remaining upon restricted government/private property. This does not include public car parks.", stackable: true },
         { name: "Unlawful Discharge of a Firearm", jailTime: 400, fine: 2000, description: "The reckless, negligent or unsafe use of a firearm in a public place.", stackable: true },
         { name: "Unlicensed Business", jailTime: 0, fine: 15000, description: "Owning, operating, or directly aiding in the operation of a private business on private property OR public property without the appropriate certificates. This excludes public business such as, LTD, Bars, Ammu-Nations, etc.", stackable: true },
         { name: "Unlicensed Event", jailTime: 0, fine: 10000, description: "Hosting or aiding in the hosting of an illegally planned event on private property OR public property without the appropriate permits.", stackable: true },
         
         
         // Felony Charges
         { name: "Assault with a Deadly Weapon", jailTime: 1000, fine: 6000, description: "The use of a weapon other than a firearm to carry out an assault with force likely to produce great bodily injury.", stackable: true },
         { name: "Attempted Murder", jailTime: 1200, fine: 10000, description: "Taking substantial steps to end another person's life, or taking action towards person(s) deliberately or recklessly with extreme disregard for human life. Only stackable via multiple warrants.", stackable: false, licenseRevocation: "Revoke Weapons License" },
         { name: "Manslaughter", jailTime: 700, fine: 4000, description: "The unintentional killing of another person.", stackable: true },
         
         
         // Vehicular Related
         { name: "Breach of Airspace Regulations - Major", jailTime: 1000, fine: 100000, description: "2 minor infractions or 1 major infraction of the airspace regulations during the operation of an aircraft (https://tinyurl.com/HL-FS-Airspace-Regulations). Major infractions include but are not limited to: 100 to 300 feet below minimum altitude, major infraction on landing exceptions, intentionally obstructing another aircraft, landing within a class 2 airspace, unnecessary remaining within a class 2 airspace, intentionally risking property damage.", stackable: false, licenseRevocation: "Requires Judge Authorization | Aviation Licence" },
         { name: "Breach of Airspace Regulations - Minor", jailTime: 0, fine: 50000, description: "A single minor infraction of the airspace regulations while operating an aircraft (https://tinyurl.com/HL-FS-Airspace-Regulations). Minor infractions include but are not limited to: 0 to 100 feet below minimum altitude, minor infraction on landing exceptions, unintentional obstruction of another aircraft, speeding during taxiing, failure to be present in the Air Traffic radio, or any other infractions that do not bring a risk higher than low for life and medium for property.", stackable: true },
         { name: "Breach of Airspace Regulations - Severe", jailTime: 1600, fine: 150000, description: "A single severe infraction or 2 or more major infractions of the airspace regulations while operating an aircraft (https://tinyurl.com/HL-FS-Airspace-Regulations). Severe infractions include but are not limited to: more than 300 feet below minimum altitude, landing in urban areas, entering prohibited airspace, intentional endangerment of life, using an aircraft for threats/acts of terrorism, use of an aircraft as a weapon or intimidation method.", stackable: false, licenseRevocation: "Requires Judge Authorization | Aviation License" },
         { name: "Careless Driving", jailTime: 300, fine: 600, description: "Careless Driving shall be satisfied by a minimum of 2 separate traffic offences occurring simultaneously or within succession of each other.", stackable: true, licenseRevocation: "Impound Vehicle - 3000 days" },
         { name: "Criminal Use of an Aircraft", jailTime: 1400, fine: 25000, description: "The intentional use of an aircraft in the act of or aiding in a felony offense.", stackable: false, licenseRevocation: "Requires Judge Authorization | Aviation License" },
         { name: "Driving Under the Influence (DUI)", jailTime: 400, fine: 1000, description: "Operating a motor vehicle whilst over the prescribed limit of alcohol or drugs.", stackable: false, licenseRevocation: "Revoke Driving License" },
         { name: "Driving without a License", jailTime: 300, fine: 400, description: "Driving any street vehicle without a proper license.", stackable: true, licenseRevocation: "Impound of Vehicle" },
         { name: "Grand Theft Auto", jailTime: 300, fine: 1000, description: "The operation of a motor vehicle without consent of the registered owner with the intent of permanently depriving them of the vehicle.", stackable: true },
         { name: "Hit and Run", jailTime: 700, fine: 3000, description: "The act of hitting another vehicle or person whilst in control of a motor vehicle and failing to stop at the scene of the accident.", stackable: true, licenseRevocation: "Revoke Driving License" },
         { name: "Reckless Driving", jailTime: 500, fine: 1200, description: "Reckless Driving shall be satisfied by a minimum of 3 separate traffic offences occurring simultaneously or within succession of each other, or, a speeding offence of greater than 40 mph over the speed limit, or, mounting the sidewalk / leaving the roadway.", stackable: false, licenseRevocation: "Revoke Driving License | Impound Vehicle - 6000" },
         { name: "Taking Without Owner's Consent", jailTime: 150, fine: 750, description: "Taking a person's vehicle with the intention of returning the vehicle to them once used for its intended purpose. The perpetrator of this crime is often known to the victim i.e offspring, partner, sibling, friend etc.", stackable: true },
         { name: "Vehicular Battery", jailTime: 600, fine: 4000, description: "An intentional unpermitted act of using a motor vehicle to cause harm or offensive contact with a person.", stackable: true, licenseRevocation: "Revoke Driving License" },
         
         // Corruption
         { name: "Bribery", jailTime: 400, fine: 4000, description: "Persuading someone to commit an illegal act in exchange for a gift, money, service or other item.", stackable: true },
         { name: "Corruption", jailTime: 2000, fine: 0, description: "A person in position of authority who wrongfully uses their place in office to benefit themselves or another person, contrary to duty and the rights of others. - Judges discretion", stackable: false, licenseRevocation: "Removal From Position | Requires Judge Authorization | Fine TBD by judge" },
         { name: "Embezzlement", jailTime: 800, fine: 6000, description: "Fraudulent conversion of another's property by a person who is in a position of trust.", stackable: true },
         { name: "Extortion", jailTime: 700, fine: 4000, description: "Unlawfully obtaining property that one is not entitled to at the time of threat, through the use of force or threats. In extortion the victim willingly hands over money, property or other valuables to avoid future violence or damages.", stackable: true },
         { name: "Fraud", jailTime: 1000, fine: 0, description: "Wrongful or criminal deception intended to result in financial or personal gain and/or a person or thing intended to deceive others, typically by unjustifiably claiming or being credited with accomplishments or qualities.", stackable: false, licenseRevocation: "Removal From Position | Requires Judge Authorization | Fine TBD by judge" },
         { name: "Money Laundering", jailTime: 700, fine: 4000, description: "The process of taking the proceeds of criminal activity and making them appear legal.", stackable: true, licenseRevocation: "Seizure of Offending Currency" },
         { name: "Racketeering / RICO", jailTime: 0, fine: 0, description: "Racketeer Influenced and Corrupt Organizations Clause (RICO) provides for extended criminal penalties for acts performed in support of an ongoing criminal organization. RICO allows leaders of the racket to be tried for ordering a crime without conducting it themselves.", stackable: false, licenseRevocation: "Requires Judge Authorization | Unlimited time and fine TBD by Judge" },
         
         // Narcotics
         { name: "Class 1 Drug Manufacture and Supply", jailTime: 1000, fine: 12000, description: "The ownership or aiding of a Class 1 drug growing operation on a small scale. This charge requires weed plants to be found and supporting evidence of the drug manufacturing process such as Class 1 drugs AND a plant pot, Miracle Gro, a watering can, or weed seeds. This stacks on every 4th plant. For example, 1 to 4 plants = 1 count, 5 to 8 plants = 2 counts, 9 to 12 plants = 3 counts, etc. 4 trimmings or 12 bags is equivalent to 1 plant.", stackable: true },
         { name: "Class 1 Drug Trafficking", jailTime: 800, fine: 8000, description: "The possession OR aiding in the moving of weed, weed bags, weed trimmings, or boxes of weed of a quantity greater than 20 bags or a quantity equal to or greater than 1 box. This stacks every 60th bag. For example, 21 to 60 bags = 1 count, 61 to 120 bags = 2 counts, 121 to 180 bags = 3 counts, etc. 1 weed trimming is equivalent to 4 bags and 1 box of weed is equivalent to 60 bags.", stackable: true },
         { name: "Class 2 Drug Manufacture & Supply", jailTime: 1200, fine: 20000, description: "The ownership or aiding in of a Class 2 production operation on a small scale. This charge requires the presence of Class 2 Drugs and supporting evidence of the drug manufacturing process such as a smoking RV, items required for the creation of the Class 2 drug, such as multiple chemicals, baking trays, bags or lab equipment for methamphetamine, or planters, Miracle Gro, watering cans, or shroom spores for shrooms. This stacks for every 3rd tray or planter. For example, 1 to 3 trays or planters = 1 count, 4 to 6 trays or planters = 2 counts, 7 to 9 trays or planters = 3 counts, etc. 2 packs or 8 bags of shrooms is equivalent to 1 planter, 20 bags of methamphetamine is equivalent to 1 block or tray, 1 slab of methamphetamine is equivalent to 3 blocks or trays, and 1 brick of methamphetamine is equivalent to 5 blocks or trays.", stackable: true, licenseRevocation: "Vehicle Impound" },
         { name: "Class 2 Drug Trafficking", jailTime: 900, fine: 13000, description: "The possession OR aiding in the moving of shrooms, shroom bags, shroom packs, boxes of shrooms, or methamphetamine of a quantity greater than 20 bags. This stacks for every 40 bags. For example, 21 to 60 bags = 1 count, 61 to 100 bags = 2 counts, 101 to 140 bags = 3 counts, etc. 1 box of shrooms is equivalent to 48 bags, 1 pack of shrooms is equivalent to 4 bags, 1 tray or block of methamphetamine is equivalent to 20 bags, 1 slab of methamphetamine is equivalent to 60 bags, and 1 brick of methamphetamine is equivalent to 100 bags.", stackable: true },
         { name: "Class 3 Drug Trafficking", jailTime: 1200, fine: 20000, description: "The possession OR aiding in the moving of cocaine or heroin of a quantity greater than 20 bags or a quantity equal to or greater than 1 block, slab, brick, or tray, beginning on the 6th block. This stacks for every 3rd block. For example, 1 to 5 blocks = 1 count, 6 to 8 blocks = 2 counts, 9 to 11 blocks = 3 counts, etc. 20 bags is equivalent to 1 block, 1 slab is equivalent to 3 blocks, and 1 brick is equivalent to 5 blocks.", stackable: true },
         { name: "Distribution of Information", jailTime: 500, fine: 7000, description: "The act or attempted act of selling information linked to the illegal pickup, processing or sale of prohibited items.", stackable: true },
         { name: "Importation Of Class 3 Drugs", jailTime: 1600, fine: 25000, description: "The act of, aiding in, or attempted recovery of imported Class 3 substances. This charge requires the presence of cocaine, plus supporting evidence of the importation process, aiding of the importation process, or recovery of the imported contents i.e., individuals moving to and from any imported containers and their vehicles or identifying clothing linking individuals together.", stackable: true },
         { name: "Industrial Scale Drug Manufacture & Supply", jailTime: 2200, fine: 50000, description: "The ownership or co-ownership of a drug manufacturing facility of an industrial scale with the equipment for mass production.", stackable: false, licenseRevocation: "Equipment Seized | Building is seized per Judge Authorization" },
         { name: "Possession Of Class 1 Drug (Personal Use)", jailTime: 0, fine: 1000, description: "The possession of weed, weed bags, or weed trimmings of a quantity between 1 to 10 bags. 1 weed trimming is equivalent to 4 bags.", stackable: true },
         { name: "Possession Of Class 1 Drug With Intent To Supply", jailTime: 500, fine: 4000, description: "The possession of weed, weed bags, or weed trimmings of a quantity between 11 to 20 bags. Or, the possession of a Class 1 Drug and portable digital scales or resealable bags, regardless of quantity. This includes being in possession of less than the stated amount but evidence showing intent to supply. 1 weed trimming is equivalent to 4 bags.", stackable: true },
         { name: "Possession Of Class 2 Drug", jailTime: 300, fine: 4000, description: "The possession of shrooms, packs of shrooms, shroom bags, or bags of methamphetamine of a quantity between 1 to 10 bags. 1 pack of shrooms is equivalent to 4 bags.", stackable: true },
         { name: "Possession Of Class 2 Drug With Intent To Supply", jailTime: 600, fine: 8000, description: "The possession of shrooms, packs of shrooms, shroom bags, or methamphetamine of a quantity between 11 to 20 bags. Or, the possession of a Class 2 Drug and portable digital scales or resealable bags, regardless of quantity. This includes being in possession of less than the stated amount but evidence showing intent to supply. 1 pack of shrooms is equivalent to 4 bags.", stackable: true },
         { name: "Possession of Class 3 Drug With Intent to Supply", jailTime: 800, fine: 12000, description: "The possession of cocaine or heroin of a quantity between 6 to 20 bags. Or, the possession of Class 3 Drugs and portable digital scales or resealable bags, regardless of quantity. This includes being in possession of less than the stated amount but evidence showing intent to supply.", stackable: true },
         { name: "Possession of Class 3 Drugs", jailTime: 600, fine: 6000, description: "The possession of cocaine or heroin of a quantity of 5 bags or fewer.", stackable: true },
         
         
         // Firearms/Explosives
         { name: "Illegal Firearms Munitions Manufacture", jailTime: 3000, fine: 80000, description: "The ownership, aiding in, or use of an illegal weapons or ammunition manufacturing facility. This charge requires the presence of the manufacturing facility and the equipment for production. This charge stacks per manufacturing facility. Any illegal weapons, illegal weapon's parts, or illegal weapon's ammunition found in the facility would fall under their respective possession charges.", stackable: true, licenseRevocation: "Revoke Weapons License | Equipment Seized | Building is seized per Judge Authorization" },
         { name: "Illegal Weapons Trafficking", jailTime: 1800, fine: 50000, description: "The illegal sale of a firearm and/or the possession of three or more illegal firearms or production of prohibited firearms. Stacks every 3 illegal firearms. For example, 1 to 5 illegal firearms = 1 count, 6 to 8 illegal firearms = 2 counts, 9 to 11 illegal firearms = 3 counts, etc.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Possession of Explosives", jailTime: 800, fine: 10000, description: "Being in possession of explosive equipment or devices. This does not include the possession of fireworks.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Possession of Illegal Ammunition", jailTime: 300, fine: 3000, description: "The possession of any illegal ammunition, i.e. SMG Ammunition, AK Ammunition. This stacks for every additional box of ammunition.", stackable: true },
         { name: "Possession of Illegal Weapon Parts", jailTime: 800, fine: 5000, description: "The possession of illegal weapons parts i.e. stocks, barrels, receivers, etc. Stacks for each individual illegal part they are in possession of.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Possession of Illegal Weapons Modification", jailTime: 600, fine: 3000, description: "The possession of illegal weapons modifications such as a silencer, scope, or extended magazines. Stacks for each individual modification they are in possession of. This does not include modifications already attached to weapons or scopes on firearms by default such as a Hunting Rifle or the red dot sight on the M1911.", stackable: true },
         { name: "Possession of a Firearm Without a License", jailTime: 300, fine: 1000, description: "Being in possession of a legal firearm but without the necessary license. Stacks every 3rd legal firearm without a license. For example, 1 to 5 legal firearms = 1 count, 6 to 8 legal firearms = 2 counts, 9 to 11 legal firearms = 3 counts, etc.", stackable: true, licenseRevocation: "Seizure of firearm" },
         { name: "Possession of an Illegal Firearm Class 1", jailTime: 700, fine: 7000, description: "The possession of any semi-automatic small arms firearm not purchasable via public gun store e.g. Glock, Tazer, Desert Eagle, Revolvers (except snubnose), double barrel shotgun.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Possession of an Illegal Firearm Class 2", jailTime: 1000, fine: 8000, description: "The possession of any firearm capable of fully automatic discharge or rifle capable of semi automatic discharge. e.g. Assault rifles and submachine guns. This does not include the possession of a Hunting Rifle.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         { name: "Possession of an Illegal Firearm Class 3", jailTime: 1500, fine: 10000, description: "The possession of any long range precision rifle or modified class 1/2 firearm. i.e extended mag and/or barrel attachments.", stackable: true, licenseRevocation: "Revoke Weapons License" },
         
         // Driving Infractions
         { name: "Driving Non-Street Legal Vehicle", jailTime: 0, fine: 300, description: "Operation of a Go-Kart, Monster Truck, Forklift, Baggage Cart, Lawn Mower, KX450F, or any vehicle with no plate on public roadways.", stackable: true, licenseRevocation: "Impound Vehicle" },
         { name: "Excessive Vehicle Noise", jailTime: 0, fine: 100, description: "Honking of horns, blasting of music or the revving of engines which causes a public nuisance. Individuals should be given an opportunity to stop being fined.", stackable: true },
         { name: "Failure to Maintain a Lane", jailTime: 0, fine: 150, description: "Failing to stay within a legal lane of travel whilst driving and/or making an illegal turn based upon the lane turn arrows.", stackable: true },
         { name: "Failure to Stop", jailTime: 0, fine: 200, description: "Failure to come to a complete stop at a posted Stop sign or steady beam red light.", stackable: true },
         { name: "Failure to Yield to an Emergency Vehicle", jailTime: 0, fine: 320, description: "Failing to pull over, allow space or otherwise hinder an emergency vehicle in its response to an emergency.", stackable: true },
         { name: "Illegal Lighting Equipment", jailTime: 0, fine: 300, description: "Any aftermarket lighting will be considered illegal/unroadworthy if it is blue or red (including variations of light and dark). Impound may be considered for repeat offences where no attempt has been made to rectify the legality of the aftermarket lighting.", stackable: true, licenseRevocation: "Impound Vehicle" },
         { name: "Illegal Parking", jailTime: 0, fine: 150, description: "Parking in a lane or on a sidewalk or any area deemed to be a hazard, including restricted zones. Proper parking is done by parking in between the white lines in a designated parking lot.", stackable: true },
         { name: "Illegal U-turn", jailTime: 0, fine: 150, description: "Making a 'U-turn' within city limits rather than doing a 'three point turn'.", stackable: true },
         { name: "Obstructing Traffic", jailTime: 0, fine: 400, description: "Intentionally causing/being an obstacle on a public road.", stackable: true },
         { name: "Speeding - Band 1", jailTime: 0, fine: 200, description: "Operation of a Motor Vehicle 1mph - 10 mph over the speed limit.", stackable: true },
         { name: "Speeding - Band 2", jailTime: 0, fine: 300, description: "Operation of a Motor Vehicle 11mph - 25 mph over the speed limit.", stackable: true },
         { name: "Speeding - Band 3", jailTime: 0, fine: 400, description: "Operation of a Motor Vehicle 25 mph - 40 mph over the speed limit. After this it becomes reckless driving.", stackable: true, licenseRevocation: "Impound Vehicle - 1500 days" },
         { name: "Using Mobile Phone Whilst Driving", jailTime: 0, fine: 200, description: "Operation of a motor vehicle whilst using a mobile phone.", stackable: true },
         
         // Misc. Felony
         { name: "Possession of Dirty Money", jailTime: 600, fine: 4000, description: "Money that is illegally gained, illegally transferred or illegally utilized, especially money gained through money laundering, or theft. The possession of cash or any other form of currency that was used or obtained through a specified unlawful activity (SUA).", stackable: true, licenseRevocation: "Seizure of Offending Currency" },
         { name: "Terroristic Threat", jailTime: 800, fine: 10000, description: "A threat of violence, harm or destruction (general or specific) for a political aim or to incite fear among the general public.", stackable: false, licenseRevocation: "Requires Judge Authorization" }
         ];
         
         const chargesContainer = document.getElementById('charges');
         const addChargeBtn = document.getElementById('addCharge');
         const presetSelect = document.getElementById('preset');
         const discountButtonsContainer = document.getElementById('discountButtons');
         const preTotalJailTimeSpan = document.getElementById('preTotalJailTime');
         const postTotalJailTimeSpan = document.getElementById('postTotalJailTime');
         const savedJailTimeSpan = document.getElementById('savedJailTime');
         const preTotalFineSpan = document.getElementById('preTotalFine');
         const postTotalFineSpan = document.getElementById('postTotalFine');
         const savedFineSpan = document.getElementById('savedFine');
         const additionalActionsWarning = document.getElementById('additionalActionsWarning');
         const additionalActionsList = document.getElementById('additionalActionsList');
         
         let globalDiscount = 20;
         
         function createChargeElement(charge) {
             const chargeRow = document.createElement('tr');
             chargeRow.className = 'charge-item';
             if (charge && charge.licenseRevocation) {
                 chargeRow.classList.add('additional-action');
             }
             chargeRow.innerHTML = `
                 <td>
                     <div class="charge-search-container">
                         <input type="text" class="charge-input" placeholder="Type to search charges" autocomplete="off">
                         <div class="custom-dropdown"></div>
                     </div>
                 </td>
                 <td class="jail-time"></td>
                 <td class="fine"></td>
                 <td class="description"></td>
                 <td>
                     <input type="number" class="form-control quantity" value="1" min="1">
                 </td>
                 <td>
                     <input type="number" class="form-control individual-discount" value="0" min="0" max="100" placeholder="Discount %">
                 </td>
                 <td>
                     <button class="btn btn-danger remove-charge">Remove</button>
                 </td>
             `;
         
             const chargeInput = chargeRow.querySelector('.charge-input');
             const dropdown = chargeRow.querySelector('.custom-dropdown');
         
         chargeInput.addEventListener('focus', function() {
         showAllCharges();
         });
         
         chargeInput.addEventListener('input', function() {
         const query = this.value.toLowerCase();
         filterCharges(query);
         });
         
         function showAllCharges() {
         dropdown.innerHTML = '';
         dropdown.style.display = 'block';
         charges.forEach(c => {
         const item = document.createElement('div');
         item.className = 'custom-dropdown-item';
         item.innerHTML = `<strong>${c.name}</strong><br><span class="charge-description">${c.description}</span>`;
         item.addEventListener('click', function() {
            chargeInput.value = c.name;
            updateChargeDetails(chargeRow, c);
            dropdown.style.display = 'none';
         });
         dropdown.appendChild(item);
         });
         }
         
         function filterCharges(query) {
         const items = dropdown.querySelectorAll('.custom-dropdown-item');
         items.forEach(item => {
         const name = item.querySelector('strong').textContent.toLowerCase();
         const description = item.querySelector('.charge-description').textContent.toLowerCase();
         if (name.includes(query) || description.includes(query)) {
            item.style.display = 'block';
         } else {
            item.style.display = 'none';
         }
         });
         }
         
             chargeRow.querySelector('.remove-charge').addEventListener('click', removeCharge);
             chargeRow.querySelector('.quantity').addEventListener('input', calculateTotal);
             chargeRow.querySelector('.individual-discount').addEventListener('input', calculateTotal);
         
             if (charge) {
                 chargeInput.value = charge.name;
                 updateChargeDetails(chargeRow, charge);
             }
         
             return chargeRow;
         }
         
         function updateChargeDetails(chargeRow, charge) {
             chargeRow.querySelector('.jail-time').textContent = charge.jailTime;
             chargeRow.querySelector('.fine').textContent = charge.fine;
             const descriptionCell = chargeRow.querySelector('.description');
             descriptionCell.innerHTML = `
             <div class="description-short">${charge.description}</div>
             <span class="description-toggle"><span>[more]</span>
                 <span class="tooltip-text">${charge.description}</span>
             </span>
             ${charge.licenseRevocation ? `
             <span class="warning-icon">
                 <i class="fas fa-exclamation-triangle"></i>
                 <span class="tooltip-text"><strong>Additional Action:</strong> ${charge.licenseRevocation}</span>
             </span>` : ''}
         `;
             const quantityInput = chargeRow.querySelector('.quantity');
             quantityInput.disabled = !charge.stackable;
             if (!charge.stackable) {
                 quantityInput.value = 1;
             }
             if (charge.licenseRevocation) {
                 chargeRow.classList.add('additional-action');
             } else {
                 chargeRow.classList.remove('additional-action');
             }
             updateAdditionalActionsWarning();
             calculateTotal();
         }
         
         function removeCharge() {
             this.closest('.charge-item').remove();
             updateAdditionalActionsWarning();
             calculateTotal();
         }
         
         function updateAdditionalActionsWarning() {
             const actions = new Set();
             document.querySelectorAll('.charge-item').forEach(item => {
                 const chargeName = item.querySelector('.charge-input').value;
                 const charge = charges.find(c => c.name === chargeName);
                 if (charge && charge.licenseRevocation) {
                     actions.add(`${charge.name}: ${charge.licenseRevocation}`);
                 }
             });
         
             if (actions.size > 0) {
                 additionalActionsWarning.style.display = 'block';
                 additionalActionsList.innerHTML = Array.from(actions).map(r => `<li>${r}</li>`).join('');
             } else {
                 additionalActionsWarning.style.display = 'none';
             }
         }
         
         function calculateTotal() {
             let totalJailTime = 0;
             let totalFine = 0;
         
             document.querySelectorAll('.charge-item').forEach(item => {
                 const jailTime = parseInt(item.querySelector('.jail-time').textContent) || 0;
                 const fine = parseInt(item.querySelector('.fine').textContent) || 0;
                 const quantity = parseInt(item.querySelector('.quantity').value) || 1;
                 const individualDiscount = parseInt(item.querySelector('.individual-discount').value) || 0;
         
                 const discountedJailTime = jailTime * (1 - individualDiscount / 100);
                 const discountedFine = fine * (1 - individualDiscount / 100);
         
                 totalJailTime += discountedJailTime * quantity;
                 totalFine += discountedFine * quantity;
             });
         
             const postDiscountJailTime = Math.round(totalJailTime * (1 - globalDiscount / 100));
             const postDiscountFine = Math.round(totalFine * (1 - globalDiscount / 100));
             const finalJailTime = Math.min(postDiscountJailTime, 4000);
         
             const savedJailTime = Math.round(totalJailTime) - finalJailTime;
             const savedFine = Math.round(totalFine) - Math.round(postDiscountFine);
         
             preTotalJailTimeSpan.textContent = Math.round(totalJailTime);
             postTotalJailTimeSpan.textContent = finalJailTime;
             savedJailTimeSpan.textContent = savedJailTime;
             preTotalFineSpan.textContent = Math.round(totalFine);
             postTotalFineSpan.textContent = Math.round(postDiscountFine);
             savedFineSpan.textContent = savedFine;
         }
         
         addChargeBtn.addEventListener('click', () => {
             chargesContainer.appendChild(createChargeElement());
         });
         
         presetSelect.addEventListener('change', () => {
             chargesContainer.innerHTML = '';
             if (presetSelect.value === 'bank_robbery') {
                 const presetCharges = [
                     "Bank Robbery",
                     "Kidnapping",
                     "Felony Evading Arrest",
                     "Reckless Driving"
                 ];
         
                 presetCharges.forEach(chargeName => {
                     const charge = charges.find(c => c.name === chargeName);
                     if (charge) {
                         chargesContainer.appendChild(createChargeElement(charge));
                     }
                 });
             }
             updateAdditionalActionsWarning();
             calculateTotal();
         });
         
         // Create discount buttons
         for (let i = 5; i <= 100; i += 5) {
             const button = document.createElement('button');
             button.textContent = i + '%';
             button.className = 'btn btn-outline-primary discount-btn';
             if (i === 20) {
                 button.classList.add('active');
             }
             button.addEventListener('click', function() {
                 globalDiscount = i;
                 document.querySelectorAll('.discount-btn').forEach(btn => btn.classList.remove('active'));
                 this.classList.add('active');
                 calculateTotal();
             });
             discountButtonsContainer.appendChild(button);
         }
      </script>
   </body>
</html>
